<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>/B4SH üòé Songs üé∂</title>
  <style>
    :root {
      --primary-color: #0066cc;
      --bg-color: #f4f4f9;
      --card-bg: #ffffff;
      --text-color: #333;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
    }
    /* En-t√™te */
    header {
      background-color: #fff;
      padding: 2em 1em;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      margin-bottom: 2em;
    }
    h1 { margin: 0; color: #222; }
    .intro { max-width: 600px; margin: 1em auto; color: #555; }
    /* Conteneur Grille (Layout principal) */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1em;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2em;
    }
    /* Carte Chanson */
    .song-card {
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: transform 0.2s ease;
      display: flex;
      flex-direction: column;
    }
    .song-card:hover {
      transform: translateY(-5px);
    }
    /* NOUVEAU: D√©sactive la transformation de survol pour ne pas perturber l'affichage fixe de l'enfant */
    .song-card.no-transform-hover:hover {
        transform: none; 
    }
    /* Image de la jaquette */
    .cover-art {
      width: 100%;
      aspect-ratio: 1 / 1; 
      object-fit: contain; 
      background-color: #ddd; 
      cursor: pointer; 
    }
    .card-content {
      padding: 1.5em;
      flex-grow: 1;
     }
    h2 {
      margin-top: 0;
      font-size: 1.3em;
      color: #222;
      border-bottom: 2px solid #eee;
      padding-bottom: 0.5em;
      margin-bottom: 1em;
    }
    /* Audio Player Styling */
    .audio-block { margin-bottom: 1.5em; }
    .version-title { font-weight: bold; display: block; margin-bottom: 0.5em; font-size: 0.9em; color: #666; }

    audio {
      width: 100%;
      height: 40px;
      margin-bottom: 0.5em;
    }
    a.download-link {
      font-size: 0.85em;
      color: var(--primary-color);
      text-decoration: none;
      display: inline-block;
    }
    a.download-link:hover { text-decoration: underline; }
    /* Section Lyrics */
    .lyrics-section {
      margin-top: auto;
      background: #fafafa;
      padding: 1em;
      border-top: 1px solid #eee;
    }

    .lyrics-title {
      font-size: 0.85em;
      font-weight: bold;
      color: #777;
      margin-bottom: 0.5em;
      display: block;
      text-transform: uppercase;
    }
    .lyrics-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5em;
    }
    .lyric-tag {
      background: #fff;
      color: #555;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.75em;
      text-decoration: none;
      border: 1px solid #ccc;
      transition: all 0.2s;
    }
    .lyric-tag:hover {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }
    /* Section T√©l√©chargement Global & Footer */
    .global-download {
      background: #fff;
      max-width: 800px;
      margin: 3em auto;
      padding: 2em;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }
    .qr-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2em;
      margin-top: 1em;
    }
    .qr-item { text-align: center; }
    
    /* Box-sizing pour le QR Code (pour la correction de taille) */
    .qr-item img { 
        border: 1px solid #eee; 
        padding: 5px; 
        border-radius: 8px; 
        box-sizing: border-box; 
    }
    
    /* Styles du mode agrandi (fullscreen) pour QR Codes ET jaquettes */
    .fullscreen-qr {
        position: fixed; 
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%); 
        z-index: 1000; 

        max-width: min(90vw, 90vh); 
        max-height: min(90vw, 90vh);
        aspect-ratio: 1 / 1; 
        box-sizing: border-box !important; 

        width: auto !important; 
        height: auto;
        cursor: zoom-out !important; 
        background: white; 
        padding: 10px;
        border-radius: 12px;
        box-shadow: 0 0 0 100vw rgba(0, 0, 0, 0.8); 
        transition: all 0.3s ease-in-out;
    }

    footer {
      text-align: center;
      padding: 2em;
      background: #fff0f0;
      color: #c00;
      margin-top: 2em;
      border-top: 1px solid #ffcccc;
    }

    /* Responsive adjustment */
    @media (max-width: 600px) {
      .container { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <header>
    <h1>/B4SH üòé Songs üé∂</h1>
    <div class="intro">
      <p>Bienvenue sur cette page d‚Äôaccueil üòä</p>
      <p>Son objectif est de partager, en toute convivialit√©, quelques cr√©ations musicales modestes avec les amis.</p>
    </div>
  </header>
  <div class="container">
    <article class="song-card">
      <img id="cover-saucisson" src="images/Le Saucisson Polisson (chez Mimi) - Version Lyon Sec.png" alt="Jaquette Saucisson" class="cover-art" onclick="toggleFullScreen('cover-saucisson')">

            <div class="card-content">
        <h2>Le Saucisson Polisson (Chez Mimi)</h2>

                <div class="audio-block">
          <span class="version-title">Version Rosette</span>
          <audio controls>
            <source src="audio/Le Saucisson Polisson (Chez Mimi) - v1 - Version Rosette.mp3" type="audio/mpeg">
          </audio>
          <a class="download-link" href="audio/Le Saucisson Polisson (Chez Mimi) - v1 - Version Rosette.mp3" download>üì• T√©l√©charger Rosette</a>
        </div>
        <div class="audio-block">
          <span class="version-title">Version Lyon Sec</span>
          <audio controls>
            <source src="audio/Le Saucisson Polisson (Chez Mimi) - v2 - Version Lyon Sec.mp3" type="audio/mpeg">
          </audio>
          <a class="download-link" href="audio/Le Saucisson Polisson (Chez Mimi) - v2 - Version Lyon Sec.mp3" download>üì• T√©l√©charger Lyon Sec</a>
        </div>
      </div>
      <div class="lyrics-section">
        <span class="lyrics-title">Paroles / Lyrics</span>
        <div class="lyrics-tags">
          <a href="lyrics/Le Saucisson Polisson (Chez Mimi) - lyrics - B4SH üòé.md" class="lyric-tag">Markdown</a>
          <a href="lyrics/Le Saucisson Polisson (Chez Mimi) - lyrics - B4SH üòé.pdf" class="lyric-tag">PDF</a>
          <a href="lyrics/Le Saucisson Polisson (Chez Mimi) - lyrics - B4SH üòé.odt" class="lyric-tag">ODT</a>
          <a href="lyrics/Le Saucisson Polisson (Chez Mimi) - lyrics - B4SH üòé.epub" class="lyric-tag">EPUB</a>
          <a href="lyrics/Le Saucisson Polisson (Chez Mimi) - lyrics - B4SH üòé.txt" class="lyric-tag">TXT</a>
        </div>
      </div>
    </article>
    <article class="song-card">
       <img id="cover-ceremonie" src="images/La C√©r√©monie de Ratification : Le Serment des Pieds Libres.jpg" alt="Jaquette C√©r√©monie" class="cover-art" onclick="toggleFullScreen('cover-ceremonie')">

            <div class="card-content">
        <h2>La C√©r√©monie de Ratification</h2>
        <div class="audio-block">
          <span class="version-title">Le Serment des Pieds Libres</span>
          <audio controls>
            <source src="audio/La C√©r√©monie de Ratification : Le Serment des Pieds Libres.mp3" type="audio/mpeg"></audio>
          <a class="download-link" href="audio/La C√©r√©monie de Ratification : Le Serment des Pieds Libres.mp3" download>üì• T√©l√©charger</a>
        </div>
      </div>
      <div class="lyrics-section">
        <span class="lyrics-title">Paroles / Lyrics</span>
        <div class="lyrics-tags">
          <a href="lyrics/La C√©r√©monie de Ratification : Le Serment des Pieds Libres - lyrics - B4SH üòé.md" class="lyric-tag">Markdown</a>
          <a href="lyrics/La C√©r√©monie de Ratification : Le Serment des Pieds Libres - lyrics - B4SH üòé.pdf" class="lyric-tag">PDF</a>
          <a href="lyrics/La C√©r√©monie de Ratification : Le Serment des Pieds Libres - lyrics - B4SH üòé.odt" class="lyric-tag">ODT</a>
          <a href="lyrics/La C√©r√©monie de Ratification : Le Serment des Pieds Libres - lyrics - B4SH üòé.epub" class="lyric-tag">EPUB</a>
          <a href="lyrics/La C√©r√©monie de Ratification : Le Serment des Pieds Libres - lyrics - B4SH üòé.txt" class="lyric-tag">TXT</a>
        </div>
      </div>
    </article>
    <article class="song-card">
       <img id="cover-rape" src="images/La r√¢pe √† fromage - version 4.png" alt="Jaquette R√¢pe √† fromage" class="cover-art" onclick="toggleFullScreen('cover-rape')">

            <div class="card-content">
        <h2>La r√¢pe √† fromage</h2>

                <div class="audio-block">
          <span class="version-title">Version 4 (Finale)</span>
          <audio controls><source src="audio/La r√¢pe √† fromage - v4.mp3" type="audio/mpeg"></audio>
          <a class="download-link" href="audio/La r√¢pe √† fromage - v4.mp3" download>üì• T√©l√©charger v4</a>
        </div>

                <details>
            <summary style="cursor:pointer; color:#666; font-size:0.9em; margin-bottom:10px;">Voir les anciennes versions (v1, v2, v3)</summary>
            <div class="audio-block">
                <span class="version-title">Version 1</span>
                <audio controls><source src="audio/La r√¢pe √† fromage - v1.mp3" type="audio/mpeg"></audio>
                <a class="download-link" href="audio/La r√¢pe √† fromage - v1.mp3" download>üì• T√©l√©charger v1</a>
            </div>
            <div class="audio-block">
                <span class="version-title">Version 2</span>
                <audio controls><source src="audio/La r√¢pe √† fromage - v2.mp3" type="audio/mpeg"></audio>
                <a class="download-link" href="audio/La r√¢pe √† fromage - v2.mp3" download>üì• T√©l√©charger v2</a>
            </div>
             <div class="audio-block">
                <span class="version-title">Version 3</span>
                <audio controls><source src="audio/La r√¢pe √† fromage - v3.mp3" type="audio/mpeg"></audio>
                <a class="download-link" href="audio/La r√¢pe √† fromage - v3.mp3" download>üì• T√©l√©charger v3</a>
            </div>
        </details>
      </div>
      <div class="lyrics-section">
        <span class="lyrics-title">Paroles / Lyrics</span>
        <div class="lyrics-tags">
          <a href="lyrics/La rape √† fromage - lyrics - B4SH üòé.md" class="lyric-tag">Markdown</a>
          <a href="lyrics/La r√¢pe √† fromage - lyrics - B4SH üòé.pdf" class="lyric-tag">PDF</a>
          <a href="lyrics/La r√¢pe √† fromage - lyrics - B4SH üòé.odt" class="lyric-tag">ODT</a>
          <a href="lyrics/La r√¢pe √† fromage - lyrics - B4SH üòé.epub" class="lyric-tag">EPUB</a>
          <a href="lyrics/La r√¢pe √† fromage - lyrics - B4SH üòé.txt" class="lyric-tag">TXT</a>
        </div>
      </div>
    </article>
    <article class="song-card">
       <img id="cover-tilapia" src="images/Tilapia Sauce Rumba - version saka saka.jpg" alt="Jaquette Tilapia" class="cover-art" onclick="toggleFullScreen('cover-tilapia')">

            <div class="card-content">
        <h2>Tilapia Sauce Rumba</h2>

                <div class="audio-block">
          <span class="version-title">Version Plantain</span>
          <audio controls><source src="audio/Tilapia Sauce Rumba - version plantain - B4SH üòé.mp3" type="audio/mpeg"></audio>
          <a class="download-link" href="audio/Tilapia Sauce Rumba - version plantain - B4SH üòé.mp3" download>üì• T√©l√©charger Plantain</a>
        </div>

                <div class="audio-block">
          <span class="version-title">Version Saka Saka</span>
          <audio controls><source src="audio/Tilapia Sauce Rumba - version saka saka - B4SH üòé.mp3" type="audio/mpeg"></audio>
          <a class="download-link" href="audio/Tilapia Sauce Rumba - version saka saka - B4SH üòé.mp3" download>üì• T√©l√©charger Saka Saka</a>
        </div>
      </div>
      <div class="lyrics-section">
        <span class="lyrics-title">Paroles / Lyrics</span>
        <div class="lyrics-tags">
          <a href="lyrics/Tilapia Sauce Rumba - lyrics - B4SH üòé.md" class="lyric-tag">Markdown</a>
          <a href="lyrics/Tilapia Sauce Rumba - lyrics - B4SH üòé.pdf" class="lyric-tag">PDF</a>
          <a href="lyrics/Tilapia Sauce Rumba - lyrics - B4SH üòé.odt" class="lyric-tag">ODT</a>
          <a href="lyrics/Tilapia Sauce Rumba - lyrics - B4SH üòé.epub" class="lyric-tag">EPUB</a>
          <a href="lyrics/Tilapia Sauce Rumba - lyrics - B4SH üòé.txt" class="lyric-tag">TXT</a>
        </div>
      </div>
    </article>
</div>
 <section class="global-download">
    <h2>T√©l√©chargements & Acc√®s</h2>
    <div class="qr-container">
            <div class="qr-item">
                <img id="qr-zip"
                     src="images/qr-zip-red.png"
                     alt="QR Projet"
                     width="250"
                     onclick="toggleFullScreen('qr-zip')"
                     style="cursor: pointer;">
                <p><a href="https://github.com/bluedomi/b4sh-songs/archive/refs/heads/main.zip" 
      title="T√©l√©charger toutes les chansons en ZIP">üì¶ QR vers t√©l√©chargement global</a></p>
            </div>
            <div class="qr-item">
                <img id="qr-web"
                     src="images/qr-web-green.png"
                     alt="QR Web"
                     width="250"
                     onclick="toggleFullScreen('qr-web')"
                     style="cursor: pointer;">
<!--            <p><a href="http://domi.ddns.net/b4sh-songs/"-->
            <p><a href="https://bluedomi.github.io/b4sh-songs/"
      title="Acc√©der √† la page d‚Äôaccueil B4SH Songs">üåê QR vers cette page</a></p>
            </div>
    </div>
  </section>
  <footer>
    <p><strong>Be aware that /B4SH üòé is not Beethoven ‚Äî these songs are made for fun!</strong><br>
    Enjoy the music, but please respect the non-commercial nature of these works.</p>
  </footer>

<script>
    function toggleFullScreen(itemId) {
        const itemImage = document.getElementById(itemId);
        
        const parentCard = itemImage.closest('.song-card');

        itemImage.classList.toggle('fullscreen-qr');

        if (itemImage.classList.contains('fullscreen-qr')) {
            // Entre en mode plein √©cran
            document.body.style.overflow = 'hidden';

            // 1. G√®re le parent (Ordre d'application du style du parent AVANT le reflow)
            if (parentCard) {
                parentCard.style.overflow = 'visible';
                parentCard.style.zIndex = '999'; 
                // CORRECTION CL√â : D√©sactive le transform:hover du parent
                parentCard.classList.add('no-transform-hover'); 
            }
            
            // 2. Stocke la taille initiale (uniquement n√©cessaire pour les QR Codes statiques)
            if (!itemId.startsWith('cover-')) {
                 itemImage.setAttribute('data-original-width', itemImage.getAttribute('width') + 'px');
            }
            
            // 3. Forcer le RECALCUL (REFLOW) IMM√âDIAT. 
            // Ceci est la cl√© pour le centrage imm√©diat.
            void itemImage.offsetHeight; 
            
            itemImage.style.width = ''; 

        } else {
            // Sort du mode plein √©cran
            document.body.style.overflow = '';

            // Restaure les styles du parent pour les jaquettes
            if (parentCard) {
                parentCard.style.overflow = '';
                parentCard.style.zIndex = ''; 
                // Restaure le transform:hover du parent
                parentCard.classList.remove('no-transform-hover'); 
            }
            
            // Restaure la taille initiale uniquement si elle a √©t√© stock√©e (QR Codes)
            const originalSize = itemImage.getAttribute('data-original-width');
            if (originalSize) {
                itemImage.style.width = originalSize;
                itemImage.removeAttribute('data-original-width');
            }
        }
    }
</script>
</body>
</html>
